<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Grand Café Concierge</title>
    <script src="https://cdn.platform.openai.com/deployments/chatkit/chatkit.js"></script>
    <style>
        /* 1. RESET & COLORS */
        body, html { 
            margin: 0; padding: 0; 
            height: 100%; width: 100%; 
            background-color: #FEF9EE; /* Brand Beige */
            overflow: hidden; /* No scrollbars */
        }

        /* 2. FORCE CHAT TO FILL SCREEN */
        openai-chatkit { 
            display: block;
            height: 100vh; 
            width: 100vw; 
        }

        /* 3. HIDE VERCEL TOOLBAR (The black bar) */
        vercel-live-feedback, #vercel-toolbar { display: none !important; }
    </style>
</head>
<body>
    <script>
        const TOKEN_URL = "/api/token"; 

        async function init() {
            // Wait for Library
            await customElements.whenDefined('openai-chatkit');
            
            // Create Chat
            const chat = document.createElement('openai-chatkit');
            
            // Configure
            chat.setOptions({
                api: {
                    // Fetch the working token
                    getClientSecret: async () => {
                        const res = await fetch(TOKEN_URL, { method: 'POST' });
                        const data = await res.json();
                        return data.client_secret;
                    }
                },
                theme: 'light',
                header: {
                    title: 'Grand Café Concierge',
                    style: { backgroundColor: '#FEF9EE', color: '#978550', borderBottom: '1px solid #978550' }
                },
                style: {
                    '--ck-body-background': '#FEF9EE',
                    '--ck-message-user-background': '#978550',
                    '--ck-primary-text': '#978550',
                    '--ck-secondary-text': '#5a5a5a',
                }
            });

            // Show it
            document.body.appendChild(chat);
        }
        
        init();
    </script>
</body>
</html>
